function shuffle(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[a],e[a]=t;return e}function jumpLocation(e){return e=encodeURI(e),window.open(e,"_blank","location=yes"),!1}function ratingColor(e){return e>0?4.9>=e?"bg-gray-light":e>=5&&7>=e?"bg-energized":e>=7.1?"bg-balanced":"bg-gray-light":void 0}function X2JS(){function e(e){var t=e.localName;return null==t&&(t=e.baseName),(null==t||""==t)&&(t=e.nodeName),t}function t(e){return e.prefix}function a(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function n(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function r(a){if(a.nodeType==v.DOCUMENT_NODE){var o={},i=a.firstChild,s=e(i);return o[s]=r(i),o}if(a.nodeType==v.ELEMENT_NODE){var o={};o.__cnt=0;for(var l=a.childNodes,c=0;l.length>c;c++){var i=l.item(c),s=e(i);if(o.__cnt++,null==o[s])o[s]=r(i),o[s+"_asArray"]=Array(1),o[s+"_asArray"][0]=o[s];else{if(null!=o[s]&&!(o[s]instanceof Array)){var u=o[s];o[s]=[],o[s][0]=u,o[s+"_asArray"]=o[s]}for(var p=0;null!=o[s][p];)p++;o[s][p]=r(i)}}for(var f=0;a.attributes.length>f;f++){var m=a.attributes.item(f);o.__cnt++,o["_"+m.name]=m.value}var h=t(a);return null!=h&&""!=h&&(o.__cnt++,o.__prefix=h),1==o.__cnt&&null!=o["#text"]&&(o=o["#text"]),null!=o["#text"]&&(o.__text=o["#text"],g&&(o.__text=n(o.__text)),delete o["#text"],delete o["#text_asArray"]),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],delete o["#cdata-section_asArray"]),(null!=o.__text||null!=o.__cdata)&&(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}return a.nodeType==v.TEXT_NODE||a.nodeType==v.CDATA_SECTION_NODE?a.nodeValue:void 0}function o(e,t,a,n){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=a)for(var o=0;a.length>o;o++){var i=a[o],s=e[i];r+=" "+i.substr(1)+"='"+s+"'"}return r+=n?"/>":">"}function i(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function s(e,t){return-1!==e.indexOf(t,e.length-t.length)}function l(e,t){return s(""+t,"_asArray")||0==(""+t).indexOf("_")||e[t]instanceof Function?!0:!1}function c(e){var t=0;if(e instanceof Object)for(var a in e)l(e,a)||t++;return t}function u(e){var t=[];if(e instanceof Object)for(var a in e)-1==(""+a).indexOf("__")&&0==(""+a).indexOf("_")&&t.push(a);return t}function p(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=g?a(e.__text):e.__text),t}function f(e){var t="";return e instanceof Object?t+=p(e):null!=e&&(t+=g?a(e):e),t}function m(e,t,a){var n="";if(0==e.length)n+=o(e,t,a,!0);else for(var r=0;e.length>r;r++)n+=o(e[r],t,u(e[r]),!1),n+=h(e[r]),n+=i(e[r],t);return n}function h(e){var t="",a=c(e);if(a>0)for(var n in e)if(!l(e,n)){var r=e[n],s=u(r);if(null==r||void 0==r)t+=o(r,n,s,!0);else if(r instanceof Object)if(r instanceof Array)t+=m(r,n,s);else{var p=c(r);p>0||null!=r.__text||null!=r.__cdata?(t+=o(r,n,s,!1),t+=h(r),t+=i(r,n)):t+=o(r,n,s,!0)}else t+=o(r,n,s,!1),t+=f(r),t+=i(r,n)}return t+=f(e)}var d="1.0.11",g=!1,v={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t;if(window.DOMParser){var a=new window.DOMParser;t=a.parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.xml2json=function(e){return r(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return this.xml2json(t)},this.json2xml_str=function(e){return h(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return d},this.escapeMode=function(e){g=e}}angular.module("ionicApp",["ionic","angular-cache","ionicApp.config","ionicApp.controller","ionicApp.services","ionicApp.directive","LocalStorageModule"]).run(["$ionicPlatform","$rootScope","$ionicLoading","$state","$ionicPopup","CacheFactory",function(e,t,a,n,r,o){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.hide(),window.Connection&&navigator.connection.type==Connection.NONE&&r.confirm({title:"Internet Error",content:"Koneksi internet bermasalah, aplikasi City Guide Kuningan membutuhkan sumber data secara online untuk menampilkan informasi."}).then(function(e){e&&navigator.app.exitApp()}),o("venueDataCache",{storageMode:"localStorage",maxAge:432e5,deleteOnExpire:"aggressive"}),o("weatherDataCache",{storageMode:"localStorage",maxAge:468e4,deleteOnExpire:"aggressive"}),o("KeyCache",{storageMode:"localStorage",maxAge:1296e8,deleteOnExpire:"aggressive"}),o("newsDataCache",{storageMode:"localStorage",maxAge:864e5,deleteOnExpire:"aggressive"}),o("shopDataCache",{storageMode:"localStorage",maxAge:864e5,deleteOnExpire:"aggressive"}),o("TosDataCache",{storageMode:"localStorage",maxAge:18432e5,deleteOnExpire:"aggressive"})}),e.registerBackButtonAction(function(e){n.is("main.home")?r.confirm({title:"Konfirmasi",template:"Yakin ingin keluar dari aplikasi?"}).then(function(e){e&&navigator.app.exitApp()}):navigator.app.backHistory(),e.preventDefault(),e.stopPropagation()},101),t.$on("loading:show",function(){a.show({duration:1e3,delay:0,template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMengambil Data',noBackdrop:!1})}),t.$on("loading:hide",function(){a.hide()})}]),angular.module("ionicApp.config",[]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","$httpProvider","$compileProvider",function(e,t,a,n,r){a.tabs.position("bottom"),a.scrolling.jsScrolling(!1),r.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|sms|geo|tel|local|foursquare|twitter):/),n.defaults.useXDomain=!0,delete n.defaults.headers.common["X-Requested-With"],n.interceptors.push(["$rootScope",function(e){return{request:function(t){return e.$broadcast("loading:show"),t},response:function(t){return e.$broadcast("loading:hide"),t}}}]),e.state("main",{url:"/main",templateUrl:"templates/nav/main-menu.html","abstract":!0,controller:"MainController"}).state("main.home",{url:"/home",cache:!1,views:{main:{templateUrl:"templates/page/home.html",controller:"HomePageController"}}}).state("main.info",{url:"/info",views:{main:{templateUrl:"templates/page/info.html",controller:"InfoPageController"}}}).state("main.cuaca",{url:"/cuaca",views:{main:{templateUrl:"templates/page/cuaca.html",controller:"WeatherCtrl"}}}).state("main.setting",{url:"/setting",views:{main:{templateUrl:"templates/page/setting.html",controller:"SettingCtrl"}}}).state("main.cari",{url:"/cari",views:{main:{templateUrl:"templates/page/cari.html",controller:"FoursquareSearchCtrl"}}}).state("main.kategori-loka",{url:"/kategori-loka/:listsID",views:{main:{templateUrl:"templates/page/kategori-loka.html",controller:"FoursquareListsCtrl"}}}).state("main.kontak",{url:"/kontak",views:{main:{templateUrl:"templates/page/kontak.html",controller:"Kontak"}}}).state("main.kaos",{url:"/kaos",cache:!1,views:{main:{templateUrl:"templates/page/kaos.html",controller:"TeesCtrl"}}}).state("main.tab-kaos",{url:"/infokaos/:id",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-kaos.html",controller:"TabsKaosController"}}}).state("main.tab-kaos.infokaos",{url:"/lengkap",cache:!1,views:{"infokaos-tab":{templateUrl:"templates/tab/tab-kaos.html",controller:"TeesDetailCtrl"}}}).state("main.tab-kaos.fotokaos",{url:"/foto",cache:!1,views:{"fotokaos-tab":{templateUrl:"templates/tab/tab-fotokaos.html",controller:"TeesPhotoCtrl"}}}).state("main.oleh-oleh",{url:"/oleh-oleh",cache:!1,views:{main:{templateUrl:"templates/page/oleh-oleh.html",controller:"BukalapakCtrl"}}}).state("main.tab-oleholeh",{url:"/infooleholeh/:id",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-oleholeh.html",controller:"TabsBukalapakController"}}}).state("main.tab-oleholeh.info",{url:"/poroduk",cache:!1,views:{"infooleholeh-tab":{templateUrl:"templates/tab/tab-infooleholeh.html",controller:"BukalapakDetailCtrl"}}}).state("main.tab-oleholeh.foto",{url:"/foto",cache:!1,views:{"fotooleholeh-tab":{templateUrl:"templates/tab/tab-fotooleholeh.html",controller:"BukalapakPhotoCtrl"}}}).state("main.berita",{url:"/berita",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-berita.html",controller:"TabsNewsController"}}}).state("main.berita.nasional",{url:"/nasional",cache:!1,views:{"berita-nasional":{templateUrl:"templates/tab/tab-berita-nasional.html",controller:"NewsCtrl"}}}).state("main.berita.lokal",{url:"/lokal",cache:!1,views:{"berita-lokal":{templateUrl:"templates/tab/tab-berita-lokal.html",controller:"KngAsriNewsCtrl"}}}).state("main.baca-berita",{url:"/baca-berita/:newsLink",cache:!1,views:{main:{templateUrl:"templates/page/baca-berita.html",controller:"NewsDetailCtrl"}}}).state("main.tabs",{url:"/tabs/category/:listsID/:venueId",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-venue.html",controller:"TabsPageController"}}}).state("main.tabs.venue",{url:"/venue",cache:!1,views:{"venue-tab":{templateUrl:"templates/tab/tab-venue.html",controller:"FoursquareDetailCtrl"}}}).state("main.tabs.venue-photo",{url:"/photos",cache:!1,views:{"photo-tab":{templateUrl:"templates/tab/tab-foto.html",controller:"FoursquarePhotosCtrl"}}}).state("main.tabs.venue-map",{url:"/map",cache:!1,views:{"map-tab":{templateUrl:"templates/tab/tab-peta.html",controller:"FoursquareMapCtrl"}}}).state("main.tabs.venue-tips",{url:"/tips/:venueName",views:{"venue-tab":{templateUrl:"templates/page/venue-tips.html",controller:"FoursquareTipsCtrl"}}}).state("main.tab-oleholeh.tos",{url:"/tos/:typetos",cache:!1,views:{"infooleholeh-tab":{templateUrl:"templates/page/terms-transaction.html",controller:"TosBuyer"}}}).state("main.tab-kaos.tos",{url:"/tos/:typetos",cache:!1,views:{"infokaos-tab":{templateUrl:"templates/page/terms-transaction.html",controller:"TosBuyer"}}}).state("main.transaction",{url:"/transaction",cache:!1,views:{main:{templateUrl:"templates/page/transaction.html",controller:"TransactionCtrl"}}}),t.otherwise("/main/home")}]),angular.module("ionicApp.controller",["ionic","angular-cache","angular-md5","base64","ngMap"]).controller("MainController",["$scope","$http","SideMenuData","infoSites",function(e,t,a,n){e.toggleLeft=function(){e.sideMenuController.toggleLeft()},e.mainmenudata=a.all(),e.info_site=n.all()}]).controller("HomePageController",["$scope","$state","infoSites","HomeMenu","CacheFactory","md5",function(e,t,a,n,r,o){var i=a.all();e.navTitle=i.name,e.navIcon='<img src="'+i.icon+'" />',e.HomeInit=function(){n.all().then(function(t){e.menuhome=t});var t=r.get("weatherDataCache"),a="weather-"+o.createHash("Kuningan"),i=t.get(a);e.cuaca=i?i:null},e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("InfoPageController",["$scope","$state","infoSites",function(e,t,a){e.info_site=a.all(),e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("TabsPageController",["$scope","$state","$stateParams",function(e,t,a){e.CityName="Kuningan",e.listid=a.listsID,e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("TabsNewsController",["$scope","$state",function(e){e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("SettingCtrl",["$scope","SettingsData","localStorageService",function(e,t,a){e.settingsList=t.all(),a.get("settingsList")&&(e.settingsList=a.get("settingsList")),e.saveSettings=function(){a.clearAll(),a.add("settingsList",e.settingsList)}}]).controller("FoursquareListsCtrl",["$scope","$stateParams","$http","FoursquareAPI","FoursquareKey","SettingsData","CacheFactory",function(e,t,a,n,r,o,i){e.settingsList=o.all()?o.all()[0].value:!1;var s=t.listsID;n.listsGroupVenue(r.random()[0],s,e.settingsList).then(function(t){e.venue=t.response.list.listItems.items,e.spotName=t.response.list.name,e.code=t.meta.code,e.listid=s}),e.RatingClass=function(e){return ratingColor(e)},e.VenueListsRefresh=function(){if(1==e.settingsList){self.venueDataCache=i.get("venueDataCache");var t="venueGroupLists-"+s;venueDataCache.remove(t)}n.listsGroupVenue(r.random()[0],s,e.settingsList).then(function(t){e.venue=t.response.list.listItems.items,e.spotName=t.response.list.name,e.code=t.meta.code,e.listid=s,e.$broadcast("scroll.refreshComplete")})}}]).controller("FoursquareSearchCtrl",["$scope","$http","FoursquareAPI","FoursquareKey","SettingsData","localStorageService",function(e,t,a,n,r,o){e.settingsList=r.all(),e.settingsList=o.get("settingsList")?o.get("settingsList")[1].value:!1;var i=ionic.debounce(function(t){t.length>=3?a.listsVenueSearch(n.random()[0],t,e.settingsList).then(function(t){e.venue=t.response.groups[0].items,e.code=t.meta.code}):e.code=500},500);e.search=function(){i(e.query)},e.RatingClass=function(e){return ratingColor(e)}}]).controller("FoursquareDetailCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey",function(e,t,a,n){var r=t.venueId;a.getVenue(n.random()[0],r).then(function(t){e.code=t.meta.code,e.venue=t.response.venue,e.photo=t.response.venue.photos.groups.length>0?shuffle(t.response.venue.photos.groups[0].items):null,e.venueName=200==e.code?e.venue.name:"Error"}),e.RatingClass=function(e){return ratingColor(e)}}]).controller("FoursquareMapCtrl",["$scope","$stateParams","CacheFactory",function(e,t,a){var n=t.venueId,r="venue-"+n,o=a.get("venueDataCache"),i=o.get(r);e.venue=i.response.venue}]).controller("FoursquarePhotosCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey","SettingsData","localStorageService",function(e,t,a,n,r,o){e.settingsList=r.all(),e.settingsList=o.get("settingsList")?o.get("settingsList")[1].value:!1;var i=t.venueId;e.venueName="Foto di "+t.venueName,e.loadFotoVenue=function(){a.getVenuePhoto(n.random()[0],e.settingsList,i).then(function(t){e.photos=t.response.photos.items,e.code=t.meta.code})}}]).controller("FoursquareTipsCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey","SettingsData","CacheFactory",function(e,t,a,n,r,o){e.settingsList=r.all().length>0?r.all()[0].value:!1;var i=t.venueId;e.venueName="Tips "+t.venueName,a.getVenueTips(n.random()[0],e.settingsList,i).then(function(t){e.tips=t.response.tips.items}),e.tipsVenueRefresh=function(){if(1==e.settingsList){self.venueDataCache=o.get("venueDataCache");var t="venue-tips-"+i;venueDataCache.remove(t)}a.getVenueTips(n.random()[0],e.settingsList,i).then(function(t){e.tips=t.response.tips.items,e.$broadcast("scroll.refreshComplete")})}}]).controller("WeatherCtrl",["$scope","$stateParams","WundergroundAPI","WundergroundKey",function(e,t,a,n){a.forecast(n.random()[0],"Kuningan").then(function(t){e.weather=t.current_observation,e.forecast=t.forecast})}]).controller("TabsKaosController",["$scope","$state",function(e){e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("TeesCtrl",["$scope","$stateParams","TeesAPI",function(e,t,a){e.TeesInit=function(){a.store("7035").then(function(t){e.tees=t.products})}}]).controller("TeesDetailCtrl",["$scope","$stateParams","TeesAPI",function(e,t,a){var n=t.id;a.detailTees(n).then(function(t){e.tees=t,e.nama_kaos=t.name})}]).controller("TeesPhotoCtrl",["$scope","$stateParams","md5","CacheFactory",function(e,t,a,n){e.loadFotoTees=function(){var r=t.id,o="teesProduct-"+a.createHash(r),i=n.get("shopDataCache"),s=i.get(o);e.tees=s?s:null}}]).controller("KngAsriNewsCtrl",["$scope","$stateParams","KngAsriData","md5","CacheFactory",function(e,t,a,n,r){e.CityName="Kuningan";var o="infopilihan";a.getPostsCategory(o).then(function(t){e.news=t.posts}),e.LocalNewsRefresh=function(){self.NewsDataCache=r.get("newsDataCache");var t="newslokal-"+n.createHash(o);NewsDataCache.remove(t),a.getPostsCategory(o).then(function(t){e.news=t.posts,e.$broadcast("scroll.refreshComplete")})}}]).controller("NewsCtrl",["$scope","$stateParams","NewsData","SettingsData","md5","CacheFactory",function(e,t,a,n,r,o){e.settingsList=n.all()?n.all()[0].value:!1,e.CityName="Kuningan";var i='"Kabupaten Kuningan"';a.getNews(i,e.settingsList).then(function(t){e.news=x2js.xml_str2json(t)}),e.newsRefresh=function(){if(1==e.settingsList){self.NewsDataCache=o.get("newsDataCache");var t="news-"+r.createHash(i);NewsDataCache.remove(t)}a.getNews(i).then(function(t){e.news=x2js.xml_str2json(t),e.$broadcast("scroll.refreshComplete")})}}]).controller("NewsDetailCtrl",["$scope","$stateParams","$base64","$sce",function(e,t,a,n){var r=e.decoded=a.decode(t.newsLink);e.newsWebURL=n.trustAsResourceUrl(r)}]).controller("Kontak",["$scope","$http","NomorKontak",function(e,t,a){a.nomor().then(function(t){e.nomor_kontak=t.kontak[1].data,e.nomor_prefix=t.kontak[0].prefix})}]).controller("TabsBukalapakController",["$scope","$state",function(e){e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("BukalapakCtrl",["$scope","$stateParams","BukalapakAPI",function(e,t,a){e.BukalapakInit=function(){a.mylapak("139","775335").then(function(t){e.bukalapak=t.products})}}]).controller("BukalapakDetailCtrl",["$scope","$stateParams","BukalapakAPI",function(e,t,a){var n=t.id;a.myproduct(n).then(function(t){e.BL=t.product,e.nama_oleholeh=t.product.name})}]).controller("BukalapakPhotoCtrl",["$scope","$stateParams","md5","CacheFactory",function(e,t,a,n){e.loadFotoBukalapak=function(){var r=t.id,o="blproduct-"+a.createHash(r),i=n.get("shopDataCache"),s=i.get(o);e.bukalapak=s?s.product.images:null}}]).controller("TosBuyer",["$scope","$stateParams","TosMerch",function(e,t,a){var n=t.typetos;a.tos(n).then(function(t){e.info=t})}]).controller("TransactionCtrl",["$scope","$stateParams","BukalapakAPI",function(e,t,a){a.transaction("775335","wnFfeo4fDro5jaqRvanP").then(function(t){e.transactions=t.transactions})}]),angular.module("ionicApp.directive",[]).directive("backImg",function(){return function(e,t,a){a.$observe("backImg",function(e){t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-size":"cover",position:"absolute"})})}}).directive("jumpAchor",function(){return function(e,t){t.bind("click",function(e){return window.open(""+e,"_system","location=yes"),!1})}}).directive("pembulatanAngka",function(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){function r(e){var t=parseFloat(e,10);if(t!==t)return null;var a=Math.round(t);return a}n.$parsers.push(r)}}}).directive("pushSearch",function(){return{restrict:"A",link:function(e,t){var a,n;t.bind("scroll",function(e){n||(n=document.getElementById("search-bar")),a=e.detail.scrollTop,n.style.webkitTransform=0>a?"translate3d(0, 0px, 0)":"translate3d(0, "+-a+"px, 0)"})}}}),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,a,n){var r=t.$eval(n.uiEvent);angular.forEach(r,function(n,r){var o=e(n);a.bind(r,function(e){var a=Array.prototype.slice.call(arguments);a=a.splice(1),o(t,{$event:e,$params:a}),t.$$phase||t.$apply()})})}}]),angular.module("ionicApp.directive",["base64"]).filter("thousandSuffix",function(){return function(e,t){var a,n=["k","M","G","T","P","E"];return window.isNaN(e)?null:1e3>e?e:(a=Math.floor(Math.log(e)/Math.log(1e3)),(e/Math.pow(1e3,a)).toFixed(t)+n[a-1])}}).filter("ribuAwalan",function(){return function(e,t){var a,n=[" ribu"," juta"," milyar","trilyun","P","E"];return window.isNaN(e)?null:1e3>e?e:(a=Math.floor(Math.log(e)/Math.log(1e3)),(e/Math.pow(1e3,a)).toFixed(t)+n[a-1])}}).filter("jumpUrl",function(){return function(e){return jumpLocation(e)}}).filter("urlNews",["$base64",function(e){return function(t){var t=t.replace(/(.*)\&url\=(.*)/,"$2");return e.encode(t)}}]).filter("imgNews",function(){return function(e,t){var a=/(.+)(<img[\s]src\=\")(\/\/[a-zA-Z0-9 \/\?\=\:\._-]+)(\")(.+)/;if(a.test(e))return e.replace(a,"$3").replace("//","http://");var n=t?t:"img/no-img.gif";return n}}).filter("ImageBLmedium",function(){return function(e,t){var a=/\/small\//;if(a.test(e))return e.replace(a,"/medium/");var n=t?t:"img/no-img.gif";return n}}),angular.module("ionicApp.services",["angular-cache","angular-md5","base64"]).factory("SideMenuData",function(){var e=[{title:"Pencarian Loka",routing:"main.cari",arrow:!1,icon:"ion-android-search"},{title:"Cuaca Kuningan",routing:"main.cuaca",arrow:!1,icon:"ion-ios-partlysunny"},{title:"Beranda",routing:"main.home",arrow:!1,icon:"ion-android-home"},{title:"Oleh-oleh Khas",routing:"main.oleh-oleh",arrow:!1,icon:"ion-bag"},{title:"Kaos Khas",routing:"main.kaos",arrow:!1,icon:"ion-tshirt"},{title:"Pengaturan",routing:"main.setting",arrow:!1},{title:"Info App",routing:"main.info",arrow:!0},{title:"Transaksi",routing:"main.transaction",arrow:!0}];return{all:function(){return e}}}).service("HomeMenu",["$http","$q",function(e,t){return{all:function(){return deferred=t.defer(),e({url:"data/menu.json",method:"GET"}).success(function(e){deferred.resolve(e.menuhome)}).error(function(e){deferred.reject(e)}),deferred.promise}}}]).service("TosMerch",["$http","$q",function(e,t){return{tos:function(a){return deferred=t.defer(),e({url:"data/tos.json",method:"GET"}).success(function(e){e="bukalapak"==a?e.tos.bukalapak:"tees"==a?e.tos.tees:e.tos.tees,deferred.resolve(e)}).error(function(e){deferred.reject(e)}),deferred.promise}}}]).factory("infoSites",function(){var e={name:"City Guide Kuningan",domain:"cityguide.kuninganasri.com",description:"<p>City Guide Kuningan adalah aplikasi smartphone untuk panduan wisata Kabupaten Kuningan Jawa Barat.</p><div>Anda bisa mendapatkan informasi lokasi sekitaran Kuningan dengan dilengkapi:<ol><li>- Peta,</li><li>- Nomor Penting.</li><li>- Berita lokal</li><li>- Belanja makanan/kaos khas Kuningan</li></ol></div>",icon:{path:"img/",prefix:"logo",suffix:".png"},version:1.2,infometa:[{name:"author",content:"Ofan Ebob",link:!1,icon:"ion-android-person"},{name:"author_url",content:"about.me/ofan",link:"http://about.me/ofan",icon:"ion-link"},{name:"office",content:"Jl. Veteran - Cigadung",link:"foursquare://venues/51f0146d498e58df96dd1fbb",icon:"ion-home"},{name:"email",content:"sofandani@gmail.com",link:"mailto:sofandani@gmail.com",icon:"ion-android-mail"}]};return{all:function(){return e}}}).factory("SettingsData",function(){var e=[{name:"Simpan Cache",value:!0}];return{all:function(){return e}}}).factory("FoursquareKey",function(){var e=[{api_id:"P20APVP31JG3U0UJC4ZPWSSWW5GMP4WJ014TA5JAGWYXJBLD",api_secret:"OQIS4CBVG1TNQCRQMWOBHLOCZMCP5ZKPCF1AMXBS13EI5MEE"},{api_id:"44KWZR2C3HVDWSTGPEOEHFTNA2DHL32BKDCWUJC3HD1ZDHZF",api_secret:"LXSUSXZWIMARWLTVBZT3HVUYOA5RN0SNR1NUJF4AFRQRBWQ4"},{api_id:"A2BZQ3VFIILKB0KA1BMLV1DXS5M0E3BSNRW1FVDOXI20OELK",api_secret:"OWKK1WFBYICBUBL0VC5UF4UNTHAC0TPE0LY2LJW1C1EYN31I"},{api_id:"AXXY1AEIL1MVUIS2JKJTSJEMBLKX0IFE223EDVQPZFBR42QB",api_secret:"U5TQYKX3F1CNOVH1PT5QCKSM4WSL2H0NEKXUGRCHTOJTYHIB"},{api_id:"A4NVEI2FKX3QR5CBC24S4TIKTY1WXWJ2ZSO5VPGLMKARPM0I",api_secret:"QODM2JM2Z4BVZ5DXVI0F2U050DSNEN2B2B5LHTDTOLUD5CFX"},{api_id:"LOMT3ATHN0ZQDY5B5VRM1RQMIQVH52LRUB1B2QV2BKQ0PJNO",api_secret:"QOW0OJSE5ER5NMGCERGRSFJSIMVOCNQGOQJXSDULQODL5BPD"}];return{random:function(){return shuffle(e)},statis:function(){return e}}}).service("FoursquareAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){self.venueDataCache=n.get("venueDataCache");var r="https://api.foursquare.com/v2/",o="-6.981010299999999,108.4928912",i="100",s="venues/explore",l=1,c="20150706",u="venueListCache-"+a.createHash(o);return{listsGroupVenue:function(a,n,o){var i="venueGroupLists-"+n,s=1==o?self.venueDataCache.get(i):null,l=t.defer(),u=a.api_id,p=a.api_secret;return null!=s&&1==o?l.resolve(s):e({url:r+"lists/"+n,method:"GET",params:{client_id:u,client_secret:p,"short":"nearby",m:"foursquare",locale:"id",v:c}}).success(function(e){1==o&&self.venueDataCache.put(i,e),l.resolve(e)}).error(function(e){l.reject(e)}),l.promise},listsVenueSection:function(a,n){var p=1==n?self.venueDataCache.get(u):null,f=t.defer(),m=a.api_id,h=a.api_secret;return null!=p&&1==n?f.resolve(p):e({url:r+s+"?venuePhotos="+l,method:"GET",params:{client_id:m,client_secret:h,ll:o,limit:i,radius:2e4,section:"food",locale:"id",v:c}}).success(function(e){1==n&&self.venueDataCache.put(u,e),f.resolve(e)}).error(function(e){f.reject(e)}),f.promise},listsVenueSearch:function(n,p,f){var m="VenueSearchCache-"+a.createHash(p),h=1==f?self.venueDataCache.get(m):null,d=t.defer(),g=n.api_id,v=n.api_secret;return null!=h&&1==f?d.resolve(h):e({url:r+s,method:"GET",params:{venuePhotos:l,query:p,client_id:g,client_secret:v,ll:o,limit:i,radius:2e4,locale:"id",v:c}}).success(function(e){1==f&&self.venueDataCache.put(u,e),d.resolve(e)}).error(function(e){d.reject(e)}),d.promise},getVenue:function(a,n){var o="venue-"+n,i=t.defer(),s=self.venueDataCache.get(o),l=a.api_id,u=a.api_secret;return null!=s?i.resolve(s):e({url:r+"venues/"+n,method:"GET",params:{client_id:l,client_secret:u,v:c}}).success(function(e){self.venueDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},getVenuePhoto:function(a,n,o){var i="venue-photo-"+o,s=t.defer(),l=1==n?self.venueDataCache.get(i):null,u=a.api_id,p=a.api_secret;return null!=l&&1==n?s.resolve(l):e({url:r+"venues/"+o+"/photos",method:"GET",params:{limit:15,client_id:u,client_secret:p,v:c}}).success(function(e){1==n&&self.venueDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise},getVenueTips:function(a,n,o){var i="venue-tips-"+o,s=t.defer(),l=1==n?self.venueDataCache.get(i):null,u=a.api_id,p=a.api_secret;return null!=l&&1==n?s.resolve(l):e({url:r+"venues/"+o+"/tips",method:"GET",params:{limit:15,client_id:u,client_secret:p,v:c}}).success(function(e){1==n&&self.venueDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]).factory("WundergroundKey",function(){var e=[{api_key:"d4c777b679398c1f"},{api_key:"af78709edfd4ec2a"},{api_key:"d99ad94c123332dc"},{api_key:"884f5119fba8dcca"},{api_key:"ea3e5444b26c226d"},{api_key:"fc2b1beb23d8c176"},{api_key:"44cb362380da55ea"}];return{random:function(){return shuffle(e)},statis:function(){return e}}}).service("WundergroundAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){self.weatherDataCache=n.get("weatherDataCache");var r="http://api.wunderground.com/api";return{forecast:function(n,o){var i="weather-"+a.createHash(o),s=t.defer(),l=self.weatherDataCache.get(i),c=n.api_key;return l?s.resolve(l):e({url:r+"/"+c+"/conditions/forecast/lang:ID/q/"+o+".json",method:"GET"}).success(function(e){self.weatherDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]).service("TeesAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.TeesDataCache=n.get("shopDataCache"),{store:function(n){var r="http://tees.co.id/api/stores/products",o="tees-"+a.createHash(n),i=t.defer(),s=self.TeesDataCache.get(o);return s?i.resolve(s):e({url:r,params:{store_id:n},method:"GET"}).success(function(e){self.TeesDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},detailTees:function(n){var r="http://tees.co.id/api/products/details",o="teesProduct-"+a.createHash(n),i=t.defer(),s=self.TeesDataCache.get(o);return s?i.resolve(s):e({url:r,params:{id:n},method:"GET"}).success(function(e){self.TeesDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}}}]).service("NomorKontak",["$http","$q",function(e,t){return{nomor:function(){var a=t.defer();return e({url:"data/nomor-kontak.json",method:"GET"}).success(function(e){a.resolve(e)}).error(function(e){a.reject(e)}),a.promise}}}]).service("NewsData",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.newsDataCache=n.get("newsDataCache"),{getNews:function(n,r){var o="news-"+a.createHash(n),i=t.defer(),s=1==r?self.newsDataCache.get(o):null;return null!=s&&1==r?i.resolve(s):e({url:"http://news.google.com/news/section",method:"GET",params:{q:n,output:"rss"}}).success(function(e){1==r&&self.newsDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}}}]).service("KngAsriData",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.newsDataCache=n.get("newsDataCache"),{getPostsCategory:function(n){return NewsCacheKey="newslokal-"+a.createHash(n),deferred=t.defer(),newsCacheDetail=self.newsDataCache.get(NewsCacheKey),null!=newsCacheDetail?deferred.resolve(newsCacheDetail):e({url:"http://kuninganasri.com/api",method:"GET",params:{json:"get_category_posts",count:10,slug:n}}).success(function(e){self.newsDataCache.put(NewsCacheKey,e),deferred.resolve(e)}).error(function(e){deferred.reject(e)}),deferred.promise}}}]).service("BukalapakAPI",["$http","$q","md5","$base64","CacheFactory",function(e,t,a,n,r){return self.BukalapakDataCache=r.get("shopDataCache"),{mylapak:function(n,r){var o="https://api.bukalapak.com/v2/products.json",i="bukalapak-"+a.createHash(n+r),s=t.defer(),l=self.BukalapakDataCache.get(i);return l?s.resolve(l):e({url:o,method:"GET",params:{category_id:n,province:"Jawa Barat",city:"Kuningan"}}).success(function(e){self.BukalapakDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise},myproduct:function(n){var r="https://api.bukalapak.com/v2/products/"+n+".json",o="blproduct-"+a.createHash(n),i=t.defer(),s=self.BukalapakDataCache.get(o);return s?i.resolve(s):e({url:r,method:"GET"}).success(function(e){self.BukalapakDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},transaction:function(a,r){var o="https://api.bukalapak.com/v2/transactions.json",i=a+":"+r,s=n.encode(i),l=t.defer();return e.defaults.headers.common.Authorization="Basic "+s,e({url:o,method:"GET"}).success(function(e){l.resolve(e)}).error(function(e){l.reject(e)}),l.promise}}}]);var x2js=new X2JS;