function shuffle(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[a],e[a]=t;return e}function jumpLocation(e){return e=encodeURI(e),window.open(e,"_blank","location=yes"),!1}function ratingColor(e){return e>0?4.9>=e?"bg-gray-light":e>=5&&7>=e?"bg-energized":e>=7.1?"bg-balanced":"bg-gray-light":void 0}function X2JS(){function e(e){var t=e.localName;return null==t&&(t=e.baseName),(null==t||""==t)&&(t=e.nodeName),t}function t(e){return e.prefix}function a(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function n(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function r(a){if(a.nodeType==v.DOCUMENT_NODE){var o={},i=a.firstChild,s=e(i);return o[s]=r(i),o}if(a.nodeType==v.ELEMENT_NODE){var o={};o.__cnt=0;for(var l=a.childNodes,c=0;l.length>c;c++){var i=l.item(c),s=e(i);if(o.__cnt++,null==o[s])o[s]=r(i),o[s+"_asArray"]=Array(1),o[s+"_asArray"][0]=o[s];else{if(null!=o[s]&&!(o[s]instanceof Array)){var u=o[s];o[s]=[],o[s][0]=u,o[s+"_asArray"]=o[s]}for(var p=0;null!=o[s][p];)p++;o[s][p]=r(i)}}for(var m=0;a.attributes.length>m;m++){var f=a.attributes.item(m);o.__cnt++,o["_"+f.name]=f.value}var d=t(a);return null!=d&&""!=d&&(o.__cnt++,o.__prefix=d),1==o.__cnt&&null!=o["#text"]&&(o=o["#text"]),null!=o["#text"]&&(o.__text=o["#text"],g&&(o.__text=n(o.__text)),delete o["#text"],delete o["#text_asArray"]),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],delete o["#cdata-section_asArray"]),(null!=o.__text||null!=o.__cdata)&&(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}return a.nodeType==v.TEXT_NODE||a.nodeType==v.CDATA_SECTION_NODE?a.nodeValue:void 0}function o(e,t,a,n){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=a)for(var o=0;a.length>o;o++){var i=a[o],s=e[i];r+=" "+i.substr(1)+"='"+s+"'"}return r+=n?"/>":">"}function i(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function s(e,t){return-1!==e.indexOf(t,e.length-t.length)}function l(e,t){return s(""+t,"_asArray")||0==(""+t).indexOf("_")||e[t]instanceof Function?!0:!1}function c(e){var t=0;if(e instanceof Object)for(var a in e)l(e,a)||t++;return t}function u(e){var t=[];if(e instanceof Object)for(var a in e)-1==(""+a).indexOf("__")&&0==(""+a).indexOf("_")&&t.push(a);return t}function p(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=g?a(e.__text):e.__text),t}function m(e){var t="";return e instanceof Object?t+=p(e):null!=e&&(t+=g?a(e):e),t}function f(e,t,a){var n="";if(0==e.length)n+=o(e,t,a,!0);else for(var r=0;e.length>r;r++)n+=o(e[r],t,u(e[r]),!1),n+=d(e[r]),n+=i(e[r],t);return n}function d(e){var t="",a=c(e);if(a>0)for(var n in e)if(!l(e,n)){var r=e[n],s=u(r);if(null==r||void 0==r)t+=o(r,n,s,!0);else if(r instanceof Object)if(r instanceof Array)t+=f(r,n,s);else{var p=c(r);p>0||null!=r.__text||null!=r.__cdata?(t+=o(r,n,s,!1),t+=d(r),t+=i(r,n)):t+=o(r,n,s,!0)}else t+=o(r,n,s,!1),t+=m(r),t+=i(r,n)}return t+=m(e)}var h="1.0.11",g=!1,v={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t;if(window.DOMParser){var a=new window.DOMParser;t=a.parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.xml2json=function(e){return r(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return this.xml2json(t)},this.json2xml_str=function(e){return d(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return h},this.escapeMode=function(e){g=e}}angular.module("cityGuideKuninganApp",["ionic","LocalStorageModule","angular-cache","relativeDate","cityGuideKuninganApp.config","cityGuideKuninganApp.controller","cityGuideKuninganApp.services","cityGuideKuninganApp.constant","cityGuideKuninganApp.directive"]).run(["$ionicPlatform","$rootScope","$ionicLoading","$state","$ionicPopup","CacheFactory",function(e,t,a,n,r,o){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.show(),window.Connection&&navigator.connection.type==Connection.NONE&&r.show({title:"Internet Error",template:"Koneksi internet bermasalah!<br />Aplikasi City Guide Kuningan membutuhkan sumber data secara online untuk menampilkan informasi.",buttons:[{text:"Tutup",type:"button-assertive",onTap:function(){navigator.app.exitApp()}}]}),o("venueDataCache",{storageMode:"localStorage",maxAge:432e5,deleteOnExpire:"aggressive"}),o("weatherDataCache",{storageMode:"localStorage",maxAge:468e4,deleteOnExpire:"aggressive"}),o("newsDataCache",{storageMode:"localStorage",maxAge:864e5,deleteOnExpire:"aggressive"}),o("shopDataCache",{storageMode:"localStorage",deleteOnExpire:"none"}),o("cartDataCache",{storageMode:"localStorage",deleteOnExpire:"none"}),o("TosDataCache",{storageMode:"localStorage",maxAge:18432e5,deleteOnExpire:"aggressive"})}),e.registerBackButtonAction(function(e){n.is("main.home")?r.show({title:"Konfirmasi",template:"Apakah anda yakin ingin keluar dari aplikasi?",buttons:[{text:"Tidak!",type:"button-balanced",onTap:function(){return!1}},{text:"Ya, Keluar",type:"button-assertive",onTap:function(){navigator.app.exitApp()}}]}):navigator.app.backHistory(),e.preventDefault(),e.stopPropagation()},101),t.$on("loading:show",function(){a.show({template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMengambil Data',noBackdrop:!1})}),t.$on("loading:hide",function(){a.hide()})}]),angular.module("cityGuideKuninganApp.config",[]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","$httpProvider","$compileProvider","localStorageServiceProvider",function(e,t,a,n,r,o){a.tabs.position("bottom"),a.scrolling.jsScrolling(!1),r.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|sms|geo|tel|local|foursquare|twitter):/),n.defaults.useXDomain=!0,delete n.defaults.headers.common["X-Requested-With"],o.setPrefix("cityGuideKuninganApp").setStorageType("localStorage"),n.interceptors.push(["$rootScope",function(e){return{request:function(t){return e.$broadcast("loading:show"),t},response:function(t){return e.$broadcast("loading:hide"),t}}}]),e.state("welcome",{url:"/welcome",cache:!1,templateUrl:"templates/page/welcome.html",controller:"WelcomeCtrl"}),e.state("main",{url:"/main",templateUrl:"templates/nav/main-menu.html","abstract":!0,controller:"MainController"}).state("main.home",{url:"/home",cache:!1,views:{main:{templateUrl:"templates/page/home.html",controller:"HomePageController"}}}).state("main.info",{url:"/info",views:{main:{templateUrl:"templates/page/info.html",controller:"InfoPageController"}}}).state("main.library-info",{url:"/library-info",views:{main:{templateUrl:"templates/page/library-info.html",controller:"LibraryInfoController"}}}).state("main.cuaca",{url:"/cuaca",views:{main:{templateUrl:"templates/page/cuaca.html",controller:"WeatherCtrl"}}}).state("main.setting",{url:"/setting",cache:!1,views:{main:{templateUrl:"templates/page/setting.html",controller:"SettingCtrl"}}}).state("main.cari",{url:"/cari",views:{main:{templateUrl:"templates/page/cari.html",controller:"FoursquareSearchCtrl"}}}).state("main.kategori-loka",{url:"/kategori-loka/:listsID",views:{main:{templateUrl:"templates/page/kategori-loka.html",controller:"FoursquareListsCtrl"}}}).state("main.kontak",{url:"/kontak",views:{main:{templateUrl:"templates/page/kontak.html",controller:"Kontak"}}}).state("main.kaos",{url:"/kaos",cache:!1,views:{main:{templateUrl:"templates/page/kaos.html",controller:"TeesCtrl"}}}).state("main.tab-kaos",{url:"/infokaos/:id",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-kaos.html",controller:"TabsKaosController"}}}).state("main.tab-kaos.infokaos",{url:"/lengkap",cache:!1,views:{"infokaos-tab":{templateUrl:"templates/tab/tab-kaos.html",controller:"TeesDetailCtrl"}}}).state("main.tab-kaos.fotokaos",{url:"/foto",cache:!1,views:{"fotokaos-tab":{templateUrl:"templates/tab/tab-fotokaos.html",controller:"TeesPhotoCtrl"}}}).state("main.oleh-oleh",{url:"/oleh-oleh",cache:!1,views:{main:{templateUrl:"templates/page/oleh-oleh.html",controller:"BukalapakCtrl"}}}).state("main.tab-oleholeh",{url:"/infooleholeh/:id",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-oleholeh.html",controller:"TabsBukalapakController"}}}).state("main.tab-oleholeh.info",{url:"/poroduk",cache:!1,views:{"infooleholeh-tab":{templateUrl:"templates/tab/tab-infooleholeh.html",controller:"BukalapakDetailCtrl"}}}).state("main.tab-oleholeh.foto",{url:"/foto",cache:!1,views:{"fotooleholeh-tab":{templateUrl:"templates/tab/tab-fotooleholeh.html",controller:"BukalapakPhotoCtrl"}}}).state("main.berita",{url:"/berita",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-berita.html"}}}).state("main.berita.nasional",{url:"/nasional",cache:!1,views:{"berita-nasional":{templateUrl:"templates/tab/tab-berita-nasional.html",controller:"NewsCtrl"}}}).state("main.berita.pemda",{url:"/pemda",cache:!1,views:{"berita-pemda":{templateUrl:"templates/tab/tab-berita-pemda.html",controller:"NewsKuninganKabCtrl"}}}).state("main.berita.lokal-travel",{url:"/lokal-travel/:channel/:total",cache:!1,views:{"berita-lokal-travel":{templateUrl:"templates/tab/tab-berita-lokal.html",controller:"KngAsriNewsCtrl"}}}).state("main.berita.baca-berita-nasional",{url:"/baca-berita/:newsLink",cache:!1,views:{"berita-nasional":{templateUrl:"templates/page/loadurl.html",controller:"NasionalNewsDetailCtrl"}}}).state("main.berita.baca-berita-pemda",{url:"/baca-berita-pemda/:newsLink",cache:!1,views:{"berita-pemda":{templateUrl:"templates/page/loadurl.html",controller:"NewsKuninganKabDetailCtrl"}}}).state("main.berita.baca-berita-lokal-travel",{url:"/baca-berita-travel/:newsLink",cache:!1,views:{"berita-lokal-travel":{templateUrl:"templates/page/loadurl.html",controller:"LokalNewsDetailCtrl"}}}).state("main.tabs",{url:"/tabs/category/:listsID/:venueId",cache:!1,views:{main:{templateUrl:"templates/nav/tabs-venue.html",controller:"TabsFoursquareCtrl"}}}).state("main.tabs.venue",{url:"/venue",cache:!1,views:{"venue-tab":{templateUrl:"templates/tab/tab-venue.html",controller:"FoursquareDetailCtrl"}}}).state("main.tabs.venue-photo",{url:"/photos",cache:!1,views:{"photo-tab":{templateUrl:"templates/tab/tab-foto.html",controller:"FoursquarePhotosCtrl"}}}).state("main.tabs.venue-map",{url:"/map",cache:!1,views:{"map-tab":{templateUrl:"templates/tab/tab-peta.html",controller:"FoursquareMapCtrl"}}}).state("main.tabs.venue-tips",{url:"/tips/:venueName",views:{"venue-tab":{templateUrl:"templates/page/venue-tips.html",controller:"FoursquareTipsCtrl"}}}).state("main.tab-oleholeh.tos",{url:"/tos/:typetos",cache:!1,views:{"infooleholeh-tab":{templateUrl:"templates/page/terms-transaction.html",controller:"TosBuyer"}}}).state("main.tab-kaos.tos",{url:"/tos/:typetos",cache:!1,views:{"infokaos-tab":{templateUrl:"templates/page/terms-transaction.html",controller:"TosBuyer"}}}).state("main.bl-buy",{url:"/:id/buy/:key",cache:!1,views:{main:{templateUrl:"templates/page/bayar.html",controller:"BuyController"}}}).state("main.tees-buy",{url:"/:id/buy/:key",cache:!1,views:{main:{templateUrl:"templates/page/bayar.html",controller:"BuyController"}}}).state("main.tab-oleholeh.buy",{url:"/buy/:key",cache:!1,views:{"infooleholeh-tab":{templateUrl:"templates/page/bayar.html",controller:"BuyController"}}}).state("main.tab-kaos.buy",{url:"/buy/:key",cache:!1,views:{"infokaos-tab":{templateUrl:"templates/page/bayar.html",controller:"BuyController"}}}).state("main.transaction",{url:"/transaction",cache:!1,views:{main:{templateUrl:"templates/page/transaction.html",controller:"TransactionCtrl"}}}).state("main.cart",{url:"/cart",cache:!1,views:{main:{templateUrl:"templates/page/keranjang.html",controller:"CartController"}}}).state("main.kasir",{url:"/kasir/:id/:total",cache:!1,views:{main:{templateUrl:"templates/page/kasir.html",controller:"CartDetailController"}}}),t.otherwise("/welcome")}]),angular.module("cityGuideKuninganApp.constant",["angular-cache","angular-md5","base64"]).constant("blkey",{user:"775335",token:"wnFfeo4fDro5jaqRvan"}),angular.module("cityGuideKuninganApp.controller",["ionic","angular-cache","angular-md5","base64","ngMap"]).controller("WelcomeCtrl",["$state","$ionicLoading","$ionicHistory","$timeout",function(e,t,a,n){t.hide(),a.nextViewOptions({disableBack:!0}),n(function(){e.go("main.home")},2e3)}]).controller("MainController",["$scope","SideMenuData","infoSites","$ionicPopup","$http","CountTotalCart",function(e,t,a,n,r,o){var i=a.all();e.mainmenudata=t.all(),e.info_site=i,e.navTitle=i.name,e.CountTotalCart=o,e.TutupAplikasi=function(){n.show({title:"Konfirmasi",template:"Apakah anda yakin ingin keluar dari aplikasi?",buttons:[{text:"Tidak!",type:"button-balanced",onTap:function(){return!1}},{text:"Ya, Keluar",type:"button-assertive",onTap:function(){window.cordova?navigator.app.exitApp():this.close()}}]})}}]).controller("HomePageController",["$scope","infoSites","HomeMenu","$ionicLoading",function(e,t,a){var n=t.all();e.navTitle=n.name,e.HomeInit=function(){e.menuhome=a.all()}}]).controller("LibraryInfoController",["$scope",function(e){var t={list:[{txt:"NodeJS"},{txt:"AngularJS"},{txt:"Android SDK"},{txt:"Apache Ant"},{txt:"Cordova"},{txt:"Crosswalk"},{txt:"PHP Desktop"},{txt:"Ionic"},{txt:"Sass"},{txt:"GruntJS"},{txt:"GulpJS"},{txt:"Foursquare API"},{txt:"Wunderground API"},{txt:"Google RSS API"},{txt:"Tees.co.id API"},{txt:"Bukalapak API"}]};e.library_info=t.list}]).controller("InfoPageController",["$scope","$state","infoSites",function(e,t,a){e.info_site=a.all(),e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("SettingCtrl",["$scope","SettingsData","localStorageService","CacheFactory","$ionicPopup","$ionicLoading","$timeout",function(e,t,a,n,r,o,i){e.settingsList=t.all(),a.get("settingsList")&&(e.settingsList=a.get("settingsList")),e.saveSettings=function(){a.remove("settingsList"),a.set("settingsList",e.settingsList)},e.hapusCache=function(){r.show({title:"Menghapus Data Aplikasi",template:"Anda yakin ingin menghapus semua data penyimpanan Aplikasi?<br />Termasuk daftar barang yang ada di troli/keranjang belanja anda.",buttons:[{text:"Batalkan",type:"button-balanced",onTap:function(){return!1}},{text:"Ya, Hapus",type:"button-assertive",onTap:function(){o.show({template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMenghapus Data Penyimpanan'}),i(function(){o.hide(),a.clearAll(),n.clearAll()},2e3)}}]})},e.setting=a.get("userSetting")?a.get("userSetting"):{},e.simpanDataPribadi=function(){a.remove("userSetting"),a.set("userSetting",e.setting),e.setting=e.setting,o.show({template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMenyimpan Data Informasi'}),i(function(){o.hide()},2e3)}}]).controller("TabsFoursquareCtrl",["$scope","$state","$stateParams",function(e,t,a){e.CityName="Kuningan",e.listid=a.listsID,e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("FoursquareSearchCtrl",["$scope","$http","FoursquareAPI","FoursquareKey","SettingsData","localStorageService","PopUpError",function(e,t,a,n,r,o,i){e.settingsList=r.all(),e.settingsList=o.get("settingsList")?o.get("settingsList")[1].value:!1;var s=ionic.debounce(function(t){t.length>=3?a.listsVenueSearch(n.random()[0],t,e.settingsList).then(function(t){e.venue=t.response.groups[0].items,e.code=t.meta.code},function(){e.code=404,i.show("Gagal Menampilkan Loka","Tutup",!1)}):e.code=500},400);e.search_venue=function(){s(e.query)},e.RatingClass=function(e){return ratingColor(e)}}]).controller("FoursquareListsCtrl",["$scope","$stateParams","$http","FoursquareAPI","FoursquareKey","SettingsData","CacheFactory","PopUpError",function(e,t,a,n,r,o,i,s){e.settingsList=o.all()?o.all()[0].value:!1;var l=t.listsID;n.listsGroupVenue(r.random()[0],l,e.settingsList).then(function(t){e.venue=t.response.list.listItems.items,e.spotName=t.response.list.name,e.code=t.meta.code,e.listid=l},function(){s.show("Gagal Menampilkan Produk")}),e.RatingClass=function(e){return ratingColor(e)},e.VenueListsRefresh=function(){if(1==e.settingsList){self.venueDataCache=i.get("venueDataCache");var t="venueGroupLists-"+l;venueDataCache.remove(t)}n.listsGroupVenue(r.random()[0],l,e.settingsList).then(function(t){e.venue=t.response.list.listItems.items,e.spotName=t.response.list.name,e.code=t.meta.code,e.listid=l,e.$broadcast("scroll.refreshComplete")},function(){s.show("Gagal Menampilkan Produk")})}}]).controller("FoursquareDetailCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey","PopUpError",function(e,t,a,n,r){var o=t.venueId;a.getVenue(n.random()[0],o).then(function(t){e.code=t.meta.code,e.venue=t.response.venue,e.photo=t.response.venue.photos.groups.length>0?shuffle(t.response.venue.photos.groups[0].items):null,e.venuename=200==e.code?e.venue.name:"Error"},function(){r.show("Gagal Menampilkan Loka")}),e.RatingClass=function(e){return ratingColor(e)}}]).controller("FoursquareMapCtrl",["$scope","$stateParams","CacheFactory","$ionicLoading",function(e,t,a,n){n.show({duration:3e3,delay:0,template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMencari Lokasi',noBackdrop:!1});var r=t.venueId,o="venue-"+r,i=a.get("venueDataCache"),s=i.get(o);e.venue=s.response.venue}]).controller("FoursquarePhotosCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey","SettingsData","localStorageService","$ionicModal","PopUpError",function(e,t,a,n,r,o,i,s){e.settingsList=r.all(),e.settingsList=o.get("settingsList")?o.get("settingsList")[1].value:!1;var l=t.venueId;e.venueName="Foto di "+t.venueName,e.loadFotoVenue=function(){a.getVenuePhoto(n.random()[0],e.settingsList,l).then(function(t){e.photos=t.response.photos.items,e.code=t.meta.code},function(){s.show("Gagal Menampilkan Foto Loka")})},e.bukaFoto=function(t,a,n){e.foto={file:t,tanggal:a,pengirim:n},e.showModal("templates/box/foto-venue.html")},e.showModal=function(t){i.fromTemplateUrl(t,{scope:e}).then(function(t){e.modal=t,e.modal.show()})},e.tutupFoto=function(){e.modal.hide(),e.modal.remove()}}]).controller("FoursquareTipsCtrl",["$scope","$stateParams","FoursquareAPI","FoursquareKey","SettingsData","CacheFactory","PopUpError",function(e,t,a,n,r,o,i){e.settingsList=r.all().length>0?r.all()[0].value:!1;var s=t.venueId;e.venueName="Tips "+t.venueName,a.getVenueTips(n.random()[0],e.settingsList,s).then(function(t){e.tips=t.response.tips.items,e.code=200},function(){i.show("Gagal Menampilkan Tips Loka")}),e.tipsVenueRefresh=function(){if(1==e.settingsList){self.venueDataCache=o.get("venueDataCache");var t="venue-tips-"+s;venueDataCache.remove(t)}a.getVenueTips(n.random()[0],e.settingsList,s).then(function(t){e.tips=t.response.tips.items,e.code=200,e.$broadcast("scroll.refreshComplete")},function(){i.show("Gagal Menampilkan Tips Loka")})}}]).controller("WeatherCtrl",["$scope","$stateParams","WundergroundAPI","WundergroundKey","PopUpError",function(e,t,a,n,r){a.forecast(n.random()[0],"Kuningan").then(function(t){e.weather=t.current_observation,e.forecast=t.forecast,e.code=200},function(){r.show("Gagal Menampilkan Cuaca")})}]).controller("KngAsriNewsCtrl",["$scope","$stateParams","KngAsriData","md5","CacheFactory","PopUpError",function(e,t,a,n,r,o){var i=t.channel,s=t.total;e.channel=i,e.total=s,a.getPostsCategory(i,s).then(function(t){e.news=t,e.judul=t.category.title+" Kuningan",e.code=200,console.log(e.news)},function(){o.show("Gagal Menampilkan Produk")}),e.LocalNewsRefresh=function(){self.NewsDataCache=r.get("newsDataCache");var t="newslokal-"+n.createHash(i);NewsDataCache.remove(t),a.getPostsCategory(i,s).then(function(t){e.news=t,e.judul=t.category.title+" Kuningan",e.code=200,e.$broadcast("scroll.refreshComplete")},function(){o.show("Gagal Menampilkan Berita")})}}]).controller("LokalNewsDetailCtrl",["$scope","$stateParams","$base64","$sce","$window",function(e,t,a,n){var r=e.decoded=a.decode(t.newsLink);e.URL=n.trustAsResourceUrl(r),e.URLtitleLoader="Baca Berita Lokal"}]).controller("NewsCtrl",["$scope","$stateParams","NewsData","SettingsData","md5","CacheFactory","PopUpError",function(e,t,a,n,r,o,i){e.settingsList=n.all()?n.all()[0].value:!1,e.CityName="Kuningan";var s='"Kabupaten Kuningan"';a.getNews(s,e.settingsList).then(function(t){e.news=x2js.xml_str2json(t),e.code=200},function(){i.show("Gagal Menampilkan Berita")}),e.newsRefresh=function(){if(1==e.settingsList){self.NewsDataCache=o.get("newsDataCache");var t="news-"+r.createHash(s);NewsDataCache.remove(t)}a.getNews(s).then(function(t){e.news=x2js.xml_str2json(t),e.code=200,e.$broadcast("scroll.refreshComplete")},function(){i.show("Gagal Menampilkan Berita")})}}]).controller("NasionalNewsDetailCtrl",["$scope","$stateParams","$base64","$sce",function(e,t,a,n){var r=e.decoded=a.decode(t.newsLink);e.URL=n.trustAsResourceUrl(r),e.URLtitleLoader="Baca Berita Nasional"}]).controller("NewsKuninganKabCtrl",["$scope","$stateParams","NewsKuninganKabData","SettingsData","md5","CacheFactory","PopUpError",function(e,t,a,n,r,o,i){e.settingsList=n.all()?n.all()[0].value:!1,e.NewsTitle="Official Pemerintahan Kuningan";var s="kuningankab.go.id";a.getNews(s,e.settingsList).then(function(t){e.news=x2js.xml_str2json(t),console.log(e.news),e.code=200},function(){i.show("Gagal Menampilkan Berita")}),e.newsRefresh=function(){if(1==e.settingsList){self.NewsDataCache=o.get("newsDataCache");var t="newskab-"+r.createHash(s);NewsDataCache.remove(t)}a.getNews(s,e.settingsList).then(function(t){e.news=x2js.xml_str2json(t),e.code=200,e.$broadcast("scroll.refreshComplete")},function(){i.show("Gagal Menampilkan Berita")})}}]).controller("NewsKuninganKabDetailCtrl",["$scope","$stateParams","$base64","$sce",function(e,t,a,n){var r=e.decoded=a.decode(t.newsLink);e.URL=n.trustAsResourceUrl(r),e.URLtitleLoader="Baca Berita Pemda"}]).controller("Kontak",["$scope","$http","NomorKontak",function(e,t,a){a.nomor().then(function(t){e.nomor_kontak=t.kontak[1].data,e.nomor_prefix=t.kontak[0].prefix})}]).controller("TabsKaosController",["$scope","$state",function(e){e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("TeesCtrl",["$scope","$stateParams","TeesAPI","PopUpError",function(e,t,a,n){e.TeesInit=function(){a.store("7035").then(function(t){e.tees=t.products},function(){n.show("Gagal Menampilkan Kaos")})}}]).controller("TeesDetailCtrl",["$scope","$stateParams","TeesAPI","PopUpError",function(e,t,a,n){var r=t.id;a.detailTees(r).then(function(t){e.tees=t,e.nama_kaos=t.name},function(){n.show("Gagal Menampilkan Kaos")})}]).controller("TeesPhotoCtrl",["$scope","$stateParams","md5","CacheFactory",function(e,t,a,n){e.loadFotoTees=function(){var r=t.id,o="teesProduct-"+a.createHash(r),i=n.get("shopDataCache"),s=i.get(o);e.tees=s?s:null}}]).controller("TabsBukalapakController",["$scope","$state",function(e){e.leftButtons=[{type:"button-icon icon ion-navicon",tap:function(){e.toggleLeft()}}]}]).controller("BukalapakPhotoCtrl",["$scope","$stateParams","md5","CacheFactory",function(e,t,a,n){e.loadFotoBukalapak=function(){var r=t.id,o="blproduct-"+a.createHash(r),i=n.get("shopDataCache"),s=i.get(o);e.bukalapak=s?s.product:null}}]).controller("TosBuyer",["$scope","$stateParams","TosMerch",function(e,t,a){var n=t.typetos;a.tos(n).then(function(t){e.info=t})}]).controller("BukalapakCtrl",["$scope","$rootScope","$stateParams","BukalapakAPI","PopUpCart","PopUpError","localStorageService",function(e,t,a,n,r,o,i){if(localStorageUserSetting=i.get("userSetting")){var s=139,l=775335,c=96;n.mylapak(s,l,c).then(function(t){e.bukalapak=t.products,e.code=200},function(){o.show("Gagal Memuat Produk")});var u=ionic.debounce(function(t){t.length>=3?n.mylapak(s,l,c,0,"Acak",t).then(function(t){e.bukalapak=t.products,e.code=200},function(){o.show("Gagal Mencari Produk")}):0==t.length?n.mylapak(s,l,c).then(function(t){e.bukalapak=t.products}):e.code=500},500);e.search_bl=function(){u(e.query)},e.beli=function(t,a,n,o,i){var s={id:t,nama:a,gambar:n,harga:o,stok:i};e.data=s,r.add(e.data)}}else o.show("<center>Informasi data diri anda masih kosong,<br />Silahkan isi untuk melanjutkan proses belanja</center>","Ke Setting","main.setting")}]).controller("BukalapakDetailCtrl",["$scope","$stateParams","BukalapakAPI","PopUpCart","PopUpError",function(e,t,a,n,r){var o=t.id;e.BL={},a.myproduct(o).then(function(t){e.BL=t.product,e.code=200},function(){r.show("Gagal Menampilkan Produk")}),e.beli=function(t,a,r,o,i){var s={id:t,nama:a,gambar:r,harga:o,stok:i};e.data=s,n.add(e.data)}}]).controller("CartController",["$scope","$state","md5","CacheFactory","BukalapakAPI","PopUpError",function(e,t,a,n,r,o){self.cartCache=n.get("cartDataCache");var s=self.cartCache.keys();for(e.cart=[],i=0;s.length>i;i++){var l=s[i],c=self.cartCache.get(l);e.cart.push(c)}e.cart=e.cart,e.deleteCart=function(e,t){self.BukalapakDataCache=n.get("shopDataCache");var a="blcart-"+t,i=self.BukalapakDataCache.get(a);i?r.deletecart(t,i.cart[0].items[0].id).then(function(){self.BukalapakDataCache.remove(a),self.cartCache.remove(e),self.itemCart=angular.element(document.querySelector("#"+e)),self.itemCart.remove()},function(){o.show("Gagal Menghapus Keranjang (koneksi)","Tutup","close")}):(self.cartCache.remove(e),self.itemCart=angular.element(document.querySelector("#"+e)),self.itemCart.remove())}}]).controller("CartDetailController",["$scope","$stateParams","BukalapakAPI","CacheFactory","md5","PopUpError","localStorageService","$ionicLoading","$timeout",function(e,t,a,n,r,o,i,s,l){var c=t.id,u=t.total;self.BukalapakDataCache=n.get("shopDataCache");var p="blcart-"+c,m=self.BukalapakDataCache.get(p);m?m.cart[0].items[0].quantity==u?e.kasir=m:a.updatecart(c,m.cart[0].items[0].id,u).then(function(){m.cart[0].items[0].quantity=u,m.cart[0].items[0].original_price=u*m.cart[0].items[0].price,self.BukalapakDataCache.put(p,m),e.kasir=m,e.code=200},function(){o.show("Gagal Memperbaharui Produk")}):a.addcart(c,u,!0).then(function(t){e.kasir=t,e.code=200},function(){o.show("Gagal Memproses Produk")}),e.updateJumlah=function(){a.updatecart(c,m.cart[0].items[0].id,u).then(function(){m.cart[0].items[0].quantity=u,m.cart[0].items[0].original_price=u*m.cart[0].items[0].price,self.BukalapakDataCache.put(p,m),e.kasir=m,e.code=200},function(){o.show("Gagal Memperbaharui Produk")})},e.setting=i.get("userSetting")?i.get("userSetting"):{},e.simpanDataPribadi=function(){i.remove("userSetting"),i.set("userSetting",e.setting),e.setting=e.setting,s.show({template:'<ion-spinner icon="spiral" class="spinner-light"></ion-spinner>\n<br/>\nMenyimpan Data Informasi'}),l(function(){s.hide()},2e3)},e.CheckOut=function(){var t={payment_transaction:{id_cart:m.cart[0].items[0].id,buyer_name:e.setting.nama,buyer_email:e.setting.email,buyer_email_confirmation:e.setting.email,seller_id:m.cart[0].seller.id,shipping_name:e.setting.nama,phone:e.setting.kontak,address_attributes:{province:"DKI Jakarta",city:"Jakarta Selatan",area:"Mampang Prapatan",address:"Jl. Bangka",post_code:"34521"},buyer_notes:"",courier:"JNE REG",with_insurance:"0",voucher_code:"",bca:"1",mandiri:"2",bni:"3",bri:"4"}};console.log(t)}}]).controller("CheckoutController",["$scope","$stateParams","md5","CacheFactory",function(e){e.master={},e.submitCart=function(){var t=e.fields,t=angular.extend(t,e.product_data);console.log(t)}}]).controller("TransactionCtrl",["$scope","$stateParams","BukalapakAPI",function(e,t,a){a.transaction().then(function(t){e.transactions=t.transactions})}]),angular.module("cityGuideKuninganApp.directive",[]).directive("backImg",function(){return function(e,t,a){a.$observe("backImg",function(e){t.css({"background-image":"url("+e+")","background-repeat":"no-repeat","background-size":"cover",position:"absolute"})})}}).directive("jumpAchor",function(){return function(e,t){t.bind("click",function(e){return window.open(""+e,"_system","location=yes"),!1})}}).directive("pembulatanAngka",function(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){function r(e){var t=parseFloat(e,10);if(t!==t)return null;var a=Math.round(t);return a}n.$parsers.push(r)}}}).directive("pushSearch",function(){return{restrict:"A",link:function(e,t){var a,n;t.bind("scroll",function(e){n||(n=document.getElementById("search-bar")),a=e.detail.scrollTop,n.style.webkitTransform=0>a?"translate3d(0, 0px, 0)":"translate3d(0, "+-a+"px, 0)"})}}}),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,a,n){var r=t.$eval(n.uiEvent);angular.forEach(r,function(n,r){var o=e(n);a.bind(r,function(e){var a=Array.prototype.slice.call(arguments);a=a.splice(1),o(t,{$event:e,$params:a}),t.$$phase||t.$apply()})})}}]),angular.module("cityGuideKuninganApp.directive",["base64"]).filter("thousandSuffix",function(){return function(e,t){var a,n=["k","M","G","T","P","E"];return window.isNaN(e)?null:1e3>e?e:(a=Math.floor(Math.log(e)/Math.log(1e3)),(e/Math.pow(1e3,a)).toFixed(t)+n[a-1])}}).filter("ribuAwalan",function(){return function(e,t){var a,n=[" ribu"," juta"," milyar"," trilyun"];return window.isNaN(e)?null:1e3>e?e:(a=Math.floor(Math.log(e)/Math.log(1e3)),(e/Math.pow(1e3,a)).toFixed(t)+n[a-1])}}).filter("jumpUrl",function(){return function(e){return jumpLocation(e)}}).filter("urlNews",["$base64",function(e){return function(t){var t=t.replace(/(.*)\&url\=(.*)/,"$2");return e.encode(t)}}]).filter("encode64",["$base64",function(e){return function(t){return e.encode(t)}}]).filter("decode64",["$base64",function(e){return function(t){return e.decode(t)}}]).filter("imgNews",function(){return function(e,t){var a=/(.+)(<img[\s]src\=\")(\/\/[a-zA-Z0-9 \/\?\=\:\._-]+)(\")(.+)/,n=/<img\s[^>]*?src\s*=\s*['\"]([^'\"]*?)['\"][^>]*?>/;if(a.test(e))return e.replace(a,"$3").replace("//","http://");if(n.test(e))return e.match(/src="([^"]*)"/i)[1];var r=t?t:"img/no-img.gif";return r}}).filter("GetDomainFromGuid",function(){return function(e){var t=/(.*)cluster\=(htt(p|ps)\:\/\/[a-zA-Z0-9 \/\?\=\:\._-]+)/;if(t.test(e)){e=e.replace(t,"$2").replace("//","http://"),e=e.replace(/(www\.)/i,""),e.replace(/(www\.)/i,"")||(e="http://"+e);var a=/:\/\/(.[^/]+)/;return e.match(a)[1]}return e}}).filter("pubDateConvert",function(){return function(e){return new Date(e).toLocaleString()}}).filter("ImageBLmedium",function(){return function(e,t){var a=/\/small\//;if(a.test(e))return e.replace(a,"/medium/");var n=t?t:"img/no-img.gif";return n}}).filter("WuIconChange",function(){return function(e,t){var a=/\/k\//;return a.test(e)?e.replace(a,"/"+t+"/"):e}}).filter("range",function(){return function(e,t,a){t=t?parseInt(t):0,a=parseInt(a+t);for(var n=t;a>n;n++)e.push(n);return e}}).filter("truncate",function(){return function(e,t,a){return isNaN(t)&&(t=10),void 0===a&&(a="..."),t>=e.length||t>=e.length-a.length?e:(e+"").substring(0,t-a.length)+a}}),angular.module("cityGuideKuninganApp.services",["angular-cache","angular-md5","base64","ngResource"]).factory("SideMenuData",[function(){var e=[{title:"Pencarian Loka",routing:"main.cari",arrow:!1,icon:"ion-android-search"},{title:"Cuaca Kuningan",routing:"main.cuaca",arrow:!1,icon:"ion-ios-partlysunny"},{title:"Beranda",routing:"main.home",arrow:!1,icon:"ion-android-home"},{title:"Oleh - Oleh Khas",routing:"main.oleh-oleh",arrow:!1,icon:"ion-bag"},{title:"Kaos Khas",routing:"main.kaos",arrow:!1,icon:"ion-tshirt"},{title:"Pengaturan",routing:"main.setting",arrow:!1},{title:"Info Aplikasi",routing:"main.info",arrow:!0},{title:"Transaksi",routing:"main.transaction",arrow:!0}];return{all:function(){return e}}}]).factory("HomeMenu",[function(){var e=[{name:"Oleh - Oleh Khas",slug:"oleh-oleh",icon:"ion-bag",color:"dark",id:!1},{name:"Kaos Khas",slug:"kaos",icon:"ion-tshirt",color:"dark",id:!1},{name:"Bank & ATM",slug:"bank",icon:"ion-cash",color:"balanced",id:"55deb964498eed92947b6270"},{name:"Wisata",slug:"wisata",icon:"ion-android-map",color:"dark",id:"559b8e19498e070a6079f688"},{name:"Kuliner",slug:"kuliner",icon:"ion-android-restaurant",color:"dark",id:"559b945a498e451b5529310c"},{name:"Bensin",slug:"bensin",icon:"ion-waterdrop",color:"assertive",id:"559bb5cd498ea2bbdff48002"},{name:"Medis",slug:"medis",icon:"ion-medkit",color:"assertive",id:"559ba80b498e451b552d3a61"},{name:"Terminal",slug:"terminal",icon:"ion-android-bus",color:"dark",id:"559bba76498e2bb3bfd06303"},{name:"Pasar & Toserba",slug:"pasar",icon:"ion-android-cart",color:"dark",id:"55debc47498eed92947f7406"},{name:"Penginapan",slug:"penginapan",icon:"ion-bowtie",color:"dark",id:"559bd288498ea2bbdffae9c0"},{name:"Berita",slug:"berita.pemda",icon:"ion-social-rss",color:"dark",id:!1},{name:"Nomor Penting",slug:"kontak",icon:"ion-ios-telephone",color:"assertive",id:!1}];
return{all:function(){return e}}}]).factory("infoSites",function(){var e={name:"City Guide Kuningan",domain:"cityguide.kuninganasri.com",description:[{html:"<p>City Guide Kuningan adalah aplikasi untuk panduan wisata Kabupaten Kuningan Jawa Barat.</p>"},{html:'<div>Anda bisa mendapatkan informasi lokasi sekitaran Kuningan dengan dilengkapi:<ul class="normal-list margin-left-20"><li>Pencarian tempat populer,</li><li>Peta Lokasi/Tempat,</li><li>Nomor Bantuan Penting,</li><li>Berita Seputar Kuningan (lokal/nasional),</li><li>Belanja oleh-oleh khas Kuningan,</li><li>Belanja Kaos khas Kuningan.</li></ul></div>'},{html:'<div>Partner official aplikasi City Guide Kuningan:<ul class="normal-list margin-top-0 margin-bottom-0 no-padding margin-left-20"><li><a href="http://kuninganasri.com/cityguide" target="_blank">Kuningan Asri Media</a></li></ul></div>'},{html:'<div>Penggunaan Software Library dalam Aplikasi: <br class="col-mc-show col-xs-show col-ss-show col-sm-hide" /><br class="col-mc-show col-xs-show col-ss-show col-sm-hide" /><a href="#/main/library-info" class="button button-small button-positive position-relative bottom-5 padding-0-5-0-5 important">lihat disini</a></div>'}],icon:{path:"img/",prefix:"logo",suffix:".png"},version:1.2,infometa:[{name:"author",content:"Ofan Ebob",link:!1,icon:"ion-android-person"},{name:"author_url",content:"about.me/ofan",link:"http://about.me/ofan",icon:"ion-link"},{name:"office",content:"Cigadung, Cigugur, Kuningan",link:"foursquare://venues/51f0146d498e58df96dd1fbb",icon:"ion-home"},{name:"email",content:"sofandani@gmail.com",link:"mailto:sofandani@gmail.com",icon:"ion-android-mail"}]};return{all:function(){return e}}}).service("TosMerch",["$http","$q",function(e,t){return{tos:function(a){return deferred=t.defer(),e({url:"data/tos.json",method:"GET"}).success(function(e){e="bukalapak"==a?e.tos.bukalapak:"tees"==a?e.tos.tees:e.tos.tees,deferred.resolve(e)}).error(function(e){deferred.reject(e)}),deferred.promise}}}]).factory("SettingsData",function(){var e=[{name:"Simpan Otomatis Data (Cache)",value:!0}];return{all:function(){return e}}}).factory("FoursquareKey",function(){var e=[{api_id:"P20APVP31JG3U0UJC4ZPWSSWW5GMP4WJ014TA5JAGWYXJBLD",api_secret:"OQIS4CBVG1TNQCRQMWOBHLOCZMCP5ZKPCF1AMXBS13EI5MEE"},{api_id:"44KWZR2C3HVDWSTGPEOEHFTNA2DHL32BKDCWUJC3HD1ZDHZF",api_secret:"LXSUSXZWIMARWLTVBZT3HVUYOA5RN0SNR1NUJF4AFRQRBWQ4"},{api_id:"A2BZQ3VFIILKB0KA1BMLV1DXS5M0E3BSNRW1FVDOXI20OELK",api_secret:"OWKK1WFBYICBUBL0VC5UF4UNTHAC0TPE0LY2LJW1C1EYN31I"},{api_id:"AXXY1AEIL1MVUIS2JKJTSJEMBLKX0IFE223EDVQPZFBR42QB",api_secret:"U5TQYKX3F1CNOVH1PT5QCKSM4WSL2H0NEKXUGRCHTOJTYHIB"},{api_id:"A4NVEI2FKX3QR5CBC24S4TIKTY1WXWJ2ZSO5VPGLMKARPM0I",api_secret:"QODM2JM2Z4BVZ5DXVI0F2U050DSNEN2B2B5LHTDTOLUD5CFX"},{api_id:"LOMT3ATHN0ZQDY5B5VRM1RQMIQVH52LRUB1B2QV2BKQ0PJNO",api_secret:"QOW0OJSE5ER5NMGCERGRSFJSIMVOCNQGOQJXSDULQODL5BPD"}];return{random:function(){return shuffle(e)},statis:function(){return e}}}).service("FoursquareAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){self.venueDataCache=n.get("venueDataCache");var r="https://api.foursquare.com/v2/",o="-6.981010299999999,108.4928912",i="100",s="venues/explore",l=1,c="20150706",u="venueListCache-"+a.createHash(o);return{listsGroupVenue:function(a,n,o){var i="venueGroupLists-"+n,s=1==o?self.venueDataCache.get(i):null,l=t.defer(),u=a.api_id,p=a.api_secret;return null!=s&&1==o?l.resolve(s):e({url:r+"lists/"+n,method:"GET",params:{client_id:u,client_secret:p,"short":"nearby",m:"foursquare",locale:"id",v:c}}).success(function(e){1==o&&self.venueDataCache.put(i,e),l.resolve(e)}).error(function(e){l.reject(e)}),l.promise},listsVenueSection:function(a,n){var p=1==n?self.venueDataCache.get(u):null,m=t.defer(),f=a.api_id,d=a.api_secret;return null!=p&&1==n?m.resolve(p):e({url:r+s+"?venuePhotos="+l,method:"GET",params:{client_id:f,client_secret:d,ll:o,limit:i,radius:2e4,section:"food",locale:"id",v:c}}).success(function(e){1==n&&self.venueDataCache.put(u,e),m.resolve(e)}).error(function(e){m.reject(e)}),m.promise},listsVenueSearch:function(n,p,m){var f="VenueSearchCache-"+a.createHash(p),d=1==m?self.venueDataCache.get(f):null,h=t.defer(),g=n.api_id,v=n.api_secret;return null!=d&&1==m?h.resolve(d):e({url:r+s,method:"GET",params:{venuePhotos:l,query:p,client_id:g,client_secret:v,ll:o,limit:i,radius:2e4,locale:"id",v:c}}).success(function(e){1==m&&self.venueDataCache.put(u,e),h.resolve(e)}).error(function(e){h.reject(e)}),h.promise},getVenue:function(a,n){var o="venue-"+n,i=t.defer(),s=self.venueDataCache.get(o),l=a.api_id,u=a.api_secret;return null!=s?i.resolve(s):e({url:r+"venues/"+n,method:"GET",params:{client_id:l,client_secret:u,v:c}}).success(function(e){self.venueDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},getVenuePhoto:function(a,n,o){var i="venue-photo-"+o,s=t.defer(),l=1==n?self.venueDataCache.get(i):null,u=a.api_id,p=a.api_secret;return null!=l&&1==n?s.resolve(l):e({url:r+"venues/"+o+"/photos",method:"GET",params:{limit:15,client_id:u,client_secret:p,v:c}}).success(function(e){1==n&&self.venueDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise},getVenueTips:function(a,n,o){var i="venue-tips-"+o,s=t.defer(),l=1==n?self.venueDataCache.get(i):null,u=a.api_id,p=a.api_secret;return null!=l&&1==n?s.resolve(l):e({url:r+"venues/"+o+"/tips",method:"GET",params:{limit:15,client_id:u,client_secret:p,v:c}}).success(function(e){1==n&&self.venueDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]).factory("WundergroundKey",function(){var e=[{api_key:"d4c777b679398c1f"},{api_key:"af78709edfd4ec2a"},{api_key:"d99ad94c123332dc"},{api_key:"884f5119fba8dcca"},{api_key:"ea3e5444b26c226d"},{api_key:"fc2b1beb23d8c176"},{api_key:"44cb362380da55ea"}];return{random:function(){return shuffle(e)},statis:function(){return e}}}).service("WundergroundAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){self.weatherDataCache=n.get("weatherDataCache");var r="http://api.wunderground.com/api";return{forecast:function(n,o){var i="weather-"+a.createHash(o),s=t.defer(),l=self.weatherDataCache.get(i),c=n.api_key;return l?s.resolve(l):e({url:r+"/"+c+"/conditions/forecast/lang:ID/q/"+o+".json",method:"GET"}).success(function(e){self.weatherDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]).service("TeesAPI",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.TeesDataCache=n.get("shopDataCache"),{store:function(n){var r="http://tees.co.id/api/stores/products",o="tees-"+a.createHash(n),i=t.defer(),s=self.TeesDataCache.get(o);return s?i.resolve(s):e({url:r,params:{store_id:n},method:"GET"}).success(function(e){self.TeesDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},detailTees:function(n){var r="http://tees.co.id/api/products/details",o="teesProduct-"+a.createHash(n),i=t.defer(),s=self.TeesDataCache.get(o);return s?i.resolve(s):e({url:r,params:{id:n},method:"GET"}).success(function(e){self.TeesDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}}}]).service("NomorKontak",["$http","$q",function(e,t){return{nomor:function(){var a=t.defer();return e({url:"data/nomor-kontak.json",method:"GET"}).success(function(e){a.resolve(e)}).error(function(e){a.reject(e)}),a.promise}}}]).service("NewsData",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.newsDataCache=n.get("newsDataCache"),{getNews:function(n,r){var o="news-"+a.createHash(n),i=t.defer(),s=1==r?self.newsDataCache.get(o):null;return null!=s&&1==r?i.resolve(s):e({url:"http://news.google.com/news/section",method:"GET",params:{q:n,output:"rss"}}).success(function(e){1==r&&self.newsDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},getNewsBing:function(n,r){var o="newsbing-"+a.createHash(n),i=t.defer(),s=1==r?self.newsDataCache.get(o):null;return null!=s&&1==r?i.resolve(s):e({url:"https://www.bing.com/news/search",method:"GET",params:{q:n,format:"RSS"}}).success(function(e){1==r&&self.newsDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}}}]).service("KngAsriData",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.newsDataCache=n.get("newsDataCache"),{getPostsCategory:function(n,r){return NewsCacheKey="newslokal-"+a.createHash(n),deferred=t.defer(),r=r?r:10,newsCacheDetail=self.newsDataCache.get(NewsCacheKey),null!=newsCacheDetail?deferred.resolve(newsCacheDetail):e({url:"http://kuninganasri.com/api",method:"GET",params:{json:"get_category_posts",count:r,slug:n}}).success(function(e){self.newsDataCache.put(NewsCacheKey,e),deferred.resolve(e)}).error(function(e){deferred.reject(e)}),deferred.promise}}}]).service("NewsKuninganKabData",["$http","$q","md5","CacheFactory",function(e,t,a,n){return self.newsDataCache=n.get("newsDataCache"),{getNews:function(n,r){var o="newskab-"+a.createHash(n),i=t.defer(),s=1==r?self.newsDataCache.get(o):null;return null!=s&&1==r?i.resolve(s):e({url:"http://kuningankab.go.id/rss.xml",method:"GET"}).success(function(e){1==r&&self.newsDataCache.put(o,e),i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}}}]).factory("FeedLoader",["$resource",function(e){return e("http://ajax.googleapis.com/ajax/services/feed/load",{},{fetch:{method:"JSONP",params:{v:"1.0",callback:"JSON_CALLBACK"}}})}]).service("FeedList",["$rootScope","FeedLoader","$q",function(e,t,a){var n=[];this.get=function(){var e=a.defer(),r=[{title:"Official PEMDA Kuningan",url:"http://kuningankab.go.id/rss.xml"}];if(0===n.length)for(var o=0;r.length>o;o++)t.fetch({q:r[o].url,num:10},{},function(t){var a=t.responseData.feed;n.push(a),e.resolve(n)});return e.promise}}]).service("BukalapakAPI",["$http","$q","md5","$base64","CacheFactory","blkey","localStorageService",function(e,t,a,n,r,o,i){self.BukalapakDataCache=r.get("shopDataCache");var s=o.user+":"+o.token,l=n.encode(s),c=i.get("userSetting"),u="cityguide-kuningan-";return{mylapak:function(n,r,o,i,s,c){var u="https://api.bukalapak.com/v2/products.json",p=t.defer(),o=o?o:96,i=i?i:0,s=s?s:"Terbaru",c=c?c:"",m="bukalapak-"+a.createHash(n+"-"+r+"-"+i+"-"+c),f=self.BukalapakDataCache.get(m);return f?p.resolve(f):e({url:u,method:"GET",params:{keywords:c,category_id:n,sort_by:s,per_page:o,province:"Jawa Barat",city:"Kuningan"},headers:{Authorization:"Basic "+l}}).success(function(e){0==c.length&&self.BukalapakDataCache.put(m,e),p.resolve(e)}).error(function(e){p.reject(e)}),p.promise},myproduct:function(n,r){var o="https://api.bukalapak.com/v2/products/"+n+".json",i="blproduct-"+a.createHash(n),s=t.defer(),l=self.BukalapakDataCache.get(i);return l&&1==r?s.resolve(l):e({url:o,method:"GET"}).success(function(e){self.BukalapakDataCache.put(i,e),s.resolve(e)}).error(function(e){s.reject(e)}),s.promise},addcart:function(a,r,o){console.log(a);var i="https://api.bukalapak.com/v2/carts/add_product/"+a+".json",s="blcart-"+a,l=t.defer(),r=r?r:1,p=self.BukalapakDataCache.get(s);return p&&1==o?(p=angular.merge(p,{type:"cache"}),l.resolve(p)):e({url:i,method:"POST",params:{identity:n.encode(u+c.email),quantity:r}}).success(function(e){1==o&&self.BukalapakDataCache.put(s,e),l.resolve(e)}).error(function(e){l.reject(e)}),l.promise},updatecart:function(a,r,o){var i="https://api.bukalapak.com/v2/carts/item/"+r+".json",s=t.defer();return e({url:i,method:"PATCH",params:{identity:n.encode(u+c.email),quantity:o}}).success(function(e){s.resolve(e)}).error(function(e){s.reject(e)}),s.promise},deletecart:function(a,r){var o="https://api.bukalapak.com/v2/carts/item/"+r+".json",i=t.defer();return e({url:o,method:"DELETE",params:{identity:n.encode(u+c.email)}}).success(function(e){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},checkout:function(n){var r="https://api.bukalapak.com/v2/transactions.json",o="checkout-"+a.createHash(n.id_cart),i=t.defer(),s=self.BukalapakDataCache.get(o);return s?i.resolve(s):e({url:r,method:"POST",data:n}).success(function(e){i.resolve(e),console.log(e)}).error(function(e){i.reject(e)}),i.promise},shipping:function(a,n,r,o){var i="https://api.bukalapak.com/v2/carts/"+n+"/shipping_estimation.json",s=t.defer();return e({url:i,method:"GET",params:{seller_id:seller_id,to:r,to_area:o}}).success(function(e){s.resolve(e)}).error(function(e){s.reject(e)}),s.promise}}}]).factory("CountTotalCart",["CacheFactory",function(e){self.cartCache=e.get("cartDataCache");var t=self.cartCache.keys();return t?{total:t.length}:{total:0}}]).service("PopUpCart",["$ionicPopup","$rootScope","$state","CacheFactory","md5","CountTotalCart",function(e,t,a,n,r,o){return{add:function(i){t.quantity={total:0},t.data=i,e.show({scope:t,cssClass:"keranjang-pop",title:"Masukan Produk Ke Troli",templateUrl:"templates/box/beli.html",buttons:[{text:"Belanja",type:"button-balanced icon-left ion-bag nowrap",onTap:function(){self.cartCache=n.get("cartDataCache");var e="cart-local-"+r.createHash(i.id),a={id:i.id,nama:i.nama,gambar:i.gambar,harga:i.harga,total:t.quantity.total,cache:e};self.cartCache.put(e,a),t.CountTotalCart=o.total}},{text:"Keranjang",type:"button-energized icon-left ion-android-cart nowrap",onTap:function(){self.cartCache=n.get("cartDataCache");var e="cart-local-"+r.createHash(i.id),o={id:i.id,nama:i.nama,gambar:i.gambar,harga:i.harga,total:t.quantity.total,cache:e};self.cartCache.put(e,o),self.cartCache.get(e)&&a.go("main.cart")}},{text:"Batalkan",type:"button-gray",onTap:function(){return!1}}]})}}}]).service("PopUpError",["$rootScope","$ionicLoading","$ionicPopup","$window","$state",function(e,t,a,n,r){return{show:function(o,i,s){t.hide();var i=i?i:"Tutup";e.code=404,a.show({scope:e,title:"Error",template:o,buttons:[{text:i,type:"button-assertive",onTap:function(){if(s){if("close"==s)return!1;r.go(s)}else n.history.back()}}]})}}}]);var x2js=new X2JS;